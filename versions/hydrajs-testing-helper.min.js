/*! hydrajs-testing-helper.js v1.5.3 | Date:2014-03-28 | License: https://raw.github.com/HydraJS/hydrajs-testing-helper/master/LICENSE| (c) 2009, 2014
//@ sourceMappingURL=hydrajs-testing-helper.min.map
*/

!function(){"use strict";var a=null,b=null,c,d=Object.prototype.toString,e=function(a,b){return d.call(a)==="[object "+b+"]"},f=function(a,b){var c,d=a.length,e,f,g={};for(c=0;d>c;c++)e=a[c],f=b[c],g[e]=f;return g},g=function(c){var d=null,g=c.module.extend,h=function(a,b){var c,d,f=[];if(!a||!e(b,"Array"))return f;c=b.concat();while(d=c.shift())f.push(a[d]);return f},i=function(c){var d,e,f=c.length,g=[];if(null!=b&&null!==a)for(e=0;f>e;e++)d=c[e],g.push(b.getAllFunctionsStubbed(d));return g};return c.setTestFramework=function(a){d=a},c.extend("testing",{setTestFramework:function(a){d=a},setMockLibrary:function(c,d){if(!c)throw new Error("The mock library is not valid!");if("function"!=typeof d.getAllFunctionsStubbed)throw new Error("Adapter should implement a getAllFunctionsStubbed method.");a=c,b=d}}),c.extend("module",{getModule:function(a,b,e){var f=this;return d&&c.module.getInstance(a,void 0,function(c){f.setInstance(a,b,c),e(c)}),null},decorate:function(a,b,c,d){return this.extend(a,b,c,d)},extend:function(a,b,d,e){var f,h,j,k=["$$_bus","$$_module","$$_log","gl_Hydra"];return j=new c.Promise(function(j){"function"==typeof b&&(e=b,d=k),"function"==typeof d&&(e=d,d=k),c.module.getInstance(a,d,function(k){d.push(k),k.__type__="parent",h=c.resolveDependencies(b,d),h.then(function(){f=i([].slice.call(arguments,1)),g(a,b,f,e).then(function(a){j(a)})})})})},test:function(a,b,g){var j,k,l,m,n;if(d)try{if(c.setDebug(!0),k=c.getCopyModules(),!k[a])throw new Error("The module "+a+" is not registered in the system");l=c.resolveDependencies(a),l.then(function(d){n=d,m=e(b,"Object")?h(b,d):e(b,"Array")?b:i([].slice.call(arguments,1)),c.module.getInstance(a,m,function(a){a.mocks=f(d,m),"function"==typeof b?b(a):g(a)})})}finally{j=null,c.setDebug(!1)}return null}}),c};c="object"==typeof exports&&"object"==typeof module&&"object"==typeof module.exports&&"function"==typeof require,c?module.exports=g(Hydra):"undefined"!=typeof define?define("hydrajs-testing-helper",["hydra"],g):g(Hydra)}();
//# sourceMappingURL=hydrajs-testing-helper.min.map